!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jsongin=e():n.jsongin=e()}("undefined"!=typeof self?self:this,(()=>(()=>{"use strict";var n={160:n=>{function e(n,e){e||(e={});var t=null;class r extends Error{constructor(n){super(`Network error: [${n.status}] ${n.statusText}`),this.name="NetworkError",this.Response=n}}class i extends Error{constructor(n){super(n.error),this.name="ApiError",this.ApiResponse=n}}async function a(a,s,o=null){o||(o={});try{var u=n+a,c="ExchangeApi",l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};if(t&&t.session_token)l.headers.Authorization=`Bearer ${t.session_token}`;else if("undefined"!=typeof window&&ThisClerk){var f=null;ThisClerk.session&&(f=await ThisClerk.session.getToken()),f&&(l.headers.Authorization=`Bearer ${f}`)}t&&t.User?c+=` as (${t.User.user_name})`:c+=" as (anonymous)",e.log_requests&&console.log(`${c} --\x3e> Server [${a}]`,s);var d=await fetch(u,l);if(!d)throw new Error("Received an empty response from the server.");if(!d.ok)throw new r(d);var w=await d.json();if(e.log_responses&&console.log(`${c} <<-- Server [${a}]`,w),w.error)throw new i(w);return e.GlobalCallback&&"function"==typeof e.GlobalCallback&&await e.GlobalCallback(null,w.result),o.Callback&&"function"==typeof o.Callback&&await o.Callback(null,w.result),w.result}catch(n){var y=null,_=!1;if(n instanceof r)y=new Error(`In command [${a}]; ${n.message}`);else if(n instanceof i)y=new Error(`In command [${a}]; ${n.message}`);else{var p=`In command [${a}]; ${n.message}`;n.cause&&n.cause.code&&(p+=` [${n.cause.code}]`),y=new Error(p)}if(e.GlobalCallback&&"function"==typeof e.GlobalCallback&&(await e.GlobalCallback(y.message,null),_=!0),o.Callback&&"function"==typeof o.Callback&&(await o.Callback(y.message,null),_=!0),e.throw_handled_errors||!_)throw y}}return{Authenticate:async function(n,e,r=!0){return(t=await a("/Session/Signin",{email_address:n,password:e},null))?t.User:null},BrowserClerk:async function(n,e=!0){return ThisClerk=n,(t={}).User=await a("/User",{},null),t.User?t.User:null},Server:{GetServerInfo:async function(n=null){return await a("/Session/ServerInfo",{},n)},GetServerError:async function(n=null){return await a("/Session/ServerError",{},n)},GetAssetType:async function(n,e=null){return await a("/AssetTypeSpecifications",{asset_type:n},e)},GetUser:async function(n=null){return await a("/User",{},n)},LookupUser:async function(n,e=null){return await a("/User/Lookup",{email_address:n},e)}},Accounts:{List:async function(n=null){return await a("/Accounts",{},n)},Get:async function(n,e=null){return await a("/Account",{account_id:n},e)},Create:async function(n=null){return await a("/Account/Create",{},n)},Destroy:async function(n,e=null){return await a("/Account/Destroy",{account_id:n},e)},Rename:async function(n,e,t=null){return await a("/Account/Rename",{account_id:n,account_name:e},t)},GetAssets:async function(n,e=null){return await a("/Account/Assets",{account_id:n},e)},GetAssetSummary:async function(n,e,t=null){return await a("/Account/AssetSummary",{account_id:n,ResolveFields:e},t)},GetAudits:async function(n,e=null){return await a("/Account/Audits",{account_id:n},e)},Funding:async function(n,e,t,r=null){var i=JSON.parse(JSON.stringify(t));return i.account_id=n,i.funding_action=e,await a("/Account/Funding",i,r)},TestDeposit:async function(n,e,t=null){return await a("/Account/Funding",{funding_action:"deposit.direct",account_id:n,amount_cents:e},t)},TestWithdraw:async function(n,e,t=null){return await a("/Account/Funding",{funding_action:"withdraw.direct",account_id:n,amount_cents:e},t)}},Permissions:{List:async function(n,e=null){return await a("/Permissions",{account_id:n},e)},Set:async function(n,e,t,r=null){return await a("/SetPermission",{account_id:n,user_id:e,permission:t},r)},Unset:async function(n,e,t,r=null){return await a("/UnsetPermission",{account_id:n,user_id:e,permission:t},r)}},Offerings:{List:async function(n,e=null){return await a("/Offerings",{account_id:n},e)},Get:async function(n,e=null){return await a("/Offering",{offering_id:n},e)},Create:async function(n,e,t=null){return await a("/Offering/Create",{account_id:n,asset_type:e},t)},Destroy:async function(n,e=null){return await a("/Offering/Delete",{offering_id:n},e)},Update:async function(n,e,t=null){return await a("/Offering/Save",{offering_id:n,offering_name:e.offering_name,description:e.description,asset_info:e.asset_info,supplier_fee_rate:e.supplier_fee_rate},t)},Activate:async function(n,e=null){return await a("/Offering/Activate",{offering_id:n},e)},Pause:async function(n,e=null){return await a("/Offering/Pause",{offering_id:n},e)}},PublicOfferings:{List:async function(n=null){return await a("/PublicOfferings",{},n)},Get:async function(n,e=null){return await a("/PublicOffering",{offering_id:n},e)},GetMarket:async function(n,e=null){return await a("/PublicOffering/Market",{offering_id:n},e)}},Orders:{List:async function(n,e,t=null){return await a("/Orders",{account_id:n,include_closed:e},t)},Get:async function(n,e=null){return await a("/Order",{order_id:n},e)},Create:async function(n,e,r,i=null){if(!t||!t.User)throw new Error("You must call Authenticate() or Connect() before using the Exchange Client.");return await a("/Order/Create",{user_id:t.User.user_id,account_id:n,offering_id:e,order_type:r.order_type,unit_count:r.unit_count,unit_price:r.unit_price,expiration:r.expiration},i)},Close:async function(n,e=null){return await a("/Order/Close",{order_id:n},e)},GetTransactions:async function(n,e=null){return await a("/Order/Transactions",{order_id:n},e)}}}}n.exports=e,"undefined"!=typeof window&&(void 0===window.SpiritEx&&(window.SpiritEx={}),window.SpiritEx.NewExchangeClient=e)}},e={};return function t(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return n[r](a,a.exports,t),a.exports}(160)})()));